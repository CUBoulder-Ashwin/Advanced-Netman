{% extends "base.html" %}
{% block content %}
<h2>Add Device</h2>
<form method="POST" style="max-width: 400px; margin: 0 auto;">
    <div style="margin-bottom: 15px;">
        <label for="device_name" style="display: block;">Device Name:</label>
        <input type="text" name="device_name" required style="width: 100%; padding: 8px;">
    </div>

    <div style="margin-bottom: 15px;">
        <label for="device_type" style="display: block;">Device Type:</label>
        <select name="device_type" required style="width: 100%; padding: 8px;">
            <option value="router">Router</option>
            <option value="switch">Switch</option>
            <option value="server">Server</option>
        </select>
    </div>

    <div style="margin-bottom: 15px;">
        <label for="device_interface" style="display: block;">Device Interface:</label>
        <input type="text" name="device_interface" required style="width: 100%; padding: 8px;">
    </div>

    <div style="margin-bottom: 15px;">
        <label for="connected_device" style="display: block;">Connected To (Device Name):</label>
        <input type="text" name="connected_device" required style="width: 100%; padding: 8px;">
    </div>

    <div style="margin-bottom: 15px;">
        <label for="relay_toggle" style="display: block;">
            <input type="checkbox" id="relay_toggle" name="relay_toggle"> Make Connected Device a DHCP Relay
        </label>
    </div>

    <div style="margin-bottom: 15px;">
        <label for="connected_interface" style="display: block;">Connected Interface:</label>
        <input type="text" name="connected_interface" required style="width: 100%; padding: 8px;">
    </div>

    <div style="margin-bottom: 15px;">
        <label for="mac_address" style="display: block;">MAC Address of connected interface:</label>
        <input type="text" name="mac_address" required style="width: 100%; padding: 8px;">
    </div>

    <div style="margin-bottom: 15px;">
        <label for="connected_ip" style="display: block;">Connected Interface IP with subnet (Default gateway):</label>
        <input type="text" name="connected_ip" style="width: 100%; padding: 8px;">
    </div>

    <div id="dhcp_fields" style="display: none; margin-top: 20px;">
        
        <div style="margin-bottom: 15px;">
            <label for="helper_ip" style="display: block;">Helper Address IP:</label>
            <input type="text" name="helper_ip" style="width: 100%; padding: 8px;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="dhcp_server" style="display: block;">DHCP Server device:</label>
            <input type="text" name="dhcp_server" style="width: 100%; padding: 8px;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="new_subnet" style="display: block;">New Subnet:</label>
            <input type="text" name="new_subnet" style="width: 100%; padding: 8px;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="ip_address" style="display: block;">Ipv4 address for the new device:</label>
            <input type="text" name="ip_address" style="width: 100%; padding: 8px;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="range_lower" style="display: block;">Range Lower Limit:</label>
            <input type="text" name="range_lower" style="width: 100%; padding: 8px;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="range_upper" style="display: block;">Range Upper Limit:</label>
            <input type="text" name="range_upper" style="width: 100%; padding: 8px;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="default_gateway" style="display: block;">Default Gateway:</label>
            <input type="text" name="default_gateway" style="width: 100%; padding: 8px;">
        </div>

    </div>

    <div style="margin-bottom: 15px;">
        <label for="sudo_password" style="display: block;">Sudo Password:</label>
        <input type="password" name="sudo_password" id="sudo_password" required style="width: 100%; padding: 8px;">
        <div style="margin-top: 5px;">
            <input type="checkbox" id="togglePassword"> Show Password
        </div>
    </div>

    <div style="text-align: center;">
        <button type="submit" style="padding: 10px 20px; font-size: 16px;">Add Device</button>
    </div>
</form>

<script>
    document.getElementById('togglePassword').addEventListener('change', function() {
        var passwordField = document.getElementById('sudo_password');
        passwordField.type = this.checked ? 'text' : 'password';
    });

    document.getElementById('relay_toggle').addEventListener('change', function() {
        document.getElementById('dhcp_fields').style.display = this.checked ? 'block' : 'none';
    });
</script>
{% endblock %}
