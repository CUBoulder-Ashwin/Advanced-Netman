{% extends "base.html" %}
{% block content %}

<h2 style="text-align: center; color: #00d1b2; font-family: 'Arial Black', sans-serif;">Add Device</h2>
<form method="POST" style="max-width: 500px; margin: 0 auto; background-color: #1a1a2e; padding: 20px; border-radius: 10px; box-shadow: 0 0 20px rgba(0, 209, 178, 0.4);">
    <div style="margin-bottom: 15px;">
        <label for="device_name" style="display: block; color: #00d1b2; font-size: 1.1em;">Device Name:</label>
        <input type="text" name="device_name" required style="width: 100%; padding: 10px; border: 2px solid #00d1b2; border-radius: 5px; background-color: #0d0d15; color: #ffffff;">
    </div>

    <div style="margin-bottom: 15px;">
        <label for="device_type" style="display: block; color: #00d1b2; font-size: 1.1em;">Device Type:</label>
        <select name="device_type" required style="width: 100%; padding: 10px; border: 2px solid #00d1b2; border-radius: 5px; background-color: #0d0d15; color: #ffffff;">
            <option value="router">Router</option>
            <option value="switch">Switch</option>
            <option value="server">Server</option>
        </select>
    </div>

    <div style="margin-bottom: 15px;">
        <label for="device_interface" style="display: block; color: #00d1b2; font-size: 1.1em;">Device Interface:</label>
        <input type="text" name="device_interface" required style="width: 100%; padding: 10px; border: 2px solid #00d1b2; border-radius: 5px; background-color: #0d0d15; color: #ffffff;">
    </div>

    <div style="margin-bottom: 15px;">
        <label for="mac_address" style="display: block; color: #00d1b2; font-size: 1.1em;">MAC Address for the new interface:</label>
        <input type="text" name="mac_address" required style="width: 100%; padding: 10px; border: 2px solid #00d1b2; border-radius: 5px; background-color: #0d0d15; color: #ffffff;">
    </div>

    <div style="margin-bottom: 15px;">
        <label for="ip_address" style="display: block; color: #00d1b2; font-size: 1.1em;">IPv4 address for the new device:</label>
        <input type="text" name="ip_address" style="width: 100%; padding: 10px; border: 2px solid #00d1b2; border-radius: 5px; background-color: #0d0d15; color: #ffffff;">
    </div>

    <div style="margin-bottom: 15px;">
        <label for="connected_device" style="display: block; color: #00d1b2; font-size: 1.1em;">Connected To (Device Name):</label>
        <input type="text" name="connected_device" required style="width: 100%; padding: 10px; border: 2px solid #00d1b2; border-radius: 5px; background-color: #0d0d15; color: #ffffff;">
    </div>

    <div style="margin-bottom: 15px;">
        <label for="connected_interface" style="display: block; color: #00d1b2; font-size: 1.1em;">Connected Interface:</label>
        <input type="text" name="connected_interface" required style="width: 100%; padding: 10px; border: 2px solid #00d1b2; border-radius: 5px; background-color: #0d0d15; color: #ffffff;">
    </div>

    <div style="margin-bottom: 15px;">
        <label for="connected_ip" style="display: block; color: #00d1b2; font-size: 1.1em;">Connected Interface IP with subnet (Default gateway):</label>
        <input type="text" name="connected_ip" style="width: 100%; padding: 10px; border: 2px solid #00d1b2; border-radius: 5px; background-color: #0d0d15; color: #ffffff;">
    </div>

    <div style="margin-bottom: 15px;">
        <label for="relay_toggle" style="color: #00d1b2; font-size: 1.1em;">
            <input type="checkbox" id="relay_toggle" name="relay_toggle" style="accent-color: #00d1b2;"> Make Connected Device a DHCP Relay
        </label>
    </div> 

    <div id="dhcp_fields" style="display: none; margin-top: 20px;">
        <div style="margin-bottom: 15px;">
            <label for="helper_ip" style="display: block; color: #00d1b2; font-size: 1.1em;">Helper Address IP:</label>
            <input type="text" name="helper_ip" style="width: 100%; padding: 10px; border: 2px solid #00d1b2; border-radius: 5px; background-color: #0d0d15; color: #ffffff;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="dhcp_server" style="display: block; color: #00d1b2; font-size: 1.1em;">DHCP Server Device:</label>
            <input type="text" name="dhcp_server" style="width: 100%; padding: 10px; border: 2px solid #00d1b2; border-radius: 5px; background-color: #0d0d15; color: #ffffff;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="new_subnet" style="display: block; color: #00d1b2; font-size: 1.1em;">New Subnet:</label>
            <input type="text" name="new_subnet" style="width: 100%; padding: 10px; border: 2px solid #00d1b2; border-radius: 5px; background-color: #0d0d15; color: #ffffff;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="range_lower" style="display: block; color: #00d1b2; font-size: 1.1em;">Range Lower Limit:</label>
            <input type="text" name="range_lower" style="width: 100%; padding: 10px; border: 2px solid #00d1b2; border-radius: 5px; background-color: #0d0d15; color: #ffffff;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="range_upper" style="display: block; color: #00d1b2; font-size: 1.1em;">Range Upper Limit:</label>
            <input type="text" name="range_upper" style="width: 100%; padding: 10px; border: 2px solid #00d1b2; border-radius: 5px; background-color: #0d0d15; color: #ffffff;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="default_gateway" style="display: block; color: #00d1b2; font-size: 1.1em;">Default Gateway:</label>
            <input type="text" name="default_gateway" style="width: 100%; padding: 10px; border: 2px solid #00d1b2; border-radius: 5px; background-color: #0d0d15; color: #ffffff;">
        </div>
    </div>

    <div style="margin-bottom: 15px;">
        <label for="sudo_password" style="display: block; color: #00d1b2; font-size: 1.1em;">Sudo Password:</label>
        <input type="password" name="sudo_password" id="sudo_password" required style="width: 100%; padding: 10px; border: 2px solid #00d1b2; border-radius: 5px; background-color: #0d0d15; color: #ffffff;">
        <div style="margin-top: 5px; color: #ffffff;">
            <input type="checkbox" id="togglePassword" style="accent-color: #00d1b2;"> Show Password
        </div>
    </div>

    <div style="text-align: center; margin-top: 20px;">
        <button type="submit" style="padding: 12px 25px; font-size: 16px; border-radius: 8px; background-color: #00d1b2; color: #ffffff; border: none; cursor: pointer; transition: background-color 0.3s;">
            Add Device
        </button>
    </div>
</form>

<script>
    document.getElementById('togglePassword').addEventListener('change', function() {
        var passwordField = document.getElementById('sudo_password');
        passwordField.type = this.checked ? 'text' : 'password';
    });

    document.getElementById('relay_toggle').addEventListener('change', function() {
        document.getElementById('dhcp_fields').style.display = this.checked ? 'block' : 'none';
    });
</script>
{% endblock %}
